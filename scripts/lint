#!/usr/bin/env bash
# SPDX-License-Identifier: MPL-2.0
set -euo pipefail

SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
source "$SCRIPT_DIR/common.sh"
ensure_venv

ARGS=()
if [[ "${1:-}" == "--fix" ]]; then
  shift
  ARGS+=("--fix")
fi

run ruff check "${ARGS[@]}" "$REPO_ROOT/src" "$REPO_ROOT/tests"
